{
    "app-id": "io.github.mihnea_radulescu.imagefanreloaded",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "22.08",
    "sdk": "org.freedesktop.Sdk",
    "command": "ImageFanReloaded-Avalonia",
    "finish-args": [
		"--socket=wayland",
		"--socket=fallback-x11",
        "--share=ipc",
        "--device=dri",
		"--filesystem=home:ro",
		"--filesystem=/media:ro",
		"--filesystem=/mnt:ro",
		"--filesystem=/run:ro"
    ],
    "modules": [
        {
            "name": "ImageFanReloaded-Avalonia",
            "buildsystem": "simple",
            "sources": [
				{
					"type": "file",
					"only-arches": [
						"aarch64"
					],
					"url": "https://github.com/mihnea-radulescu/imagefanreloaded/releases/download/1.2023.10.01/ImageFanReloaded-Avalonia-Linux-arm64-Flathub.zip",
                    "sha256": "d91f90429fdb75f0a723ca6db9dfe6712bc218550ba12fd71799ff2b40ec19dc"
				},
				{
					"type": "file",
					"only-arches": [
						"x86_64"
					],
					"url": "https://github.com/mihnea-radulescu/imagefanreloaded/releases/download/1.2023.10.01/ImageFanReloaded-Avalonia-Linux-x64-Flathub.zip",
                    "sha256": "460cdaaba8cf87d6666daaead053ccb856937af1c682ea86840e24fb2f658885"
				}
            ],
            "build-commands": [
                "unzip ImageFanReloaded-Avalonia-Linux-*.zip"
            ],
			"post-install": [
                "install -Dm755 ImageFanReloaded-Avalonia /app/bin/ImageFanReloaded-Avalonia",
                "install -Dm644 libHarfBuzzSharp.so /app/bin/libHarfBuzzSharp.so",
                "install -Dm644 libSkiaSharp.so /app/bin/libSkiaSharp.so",
				"install -Dm644 icon64.png /app/share/icons/hicolor/64x64/apps/io.github.mihnea_radulescu.imagefanreloaded.png",
				"install -Dm644 icon128.png /app/share/icons/hicolor/128x128/apps/io.github.mihnea_radulescu.imagefanreloaded.png",
				"install -Dm644 app.desktop /app/share/applications/io.github.mihnea_radulescu.imagefanreloaded.desktop",
				"install -Dm644 metainfo.xml /app/share/metainfo/io.github.mihnea_radulescu.imagefanreloaded.metainfo.xml"
			],
            "cleanup": [
                "ImageFanReloaded-Avalonia-Linux-*.zip"
            ]
        }
    ]
}
